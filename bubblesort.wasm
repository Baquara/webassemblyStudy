(defun bubble-sort (vec)
  (let ((n (vli-length vec)))
    (dotimes (i n)
      (let ((flag t))
        (dotimes (j (- n i 1))
          (when (> (vli-ref vec j) (vli-ref vec (+ j 1)))
            (vli-swap! vec j (+ j 1))
            (setf flag nil)))))
    vec))
